{% extends 'base.html' %}
{% load sass_tags %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% sass_src 'deps/css/auth.scss' %}" />
{% endblock %}

{% block content %}
<main class="auth-main">
  <div class="auth-container">
    <div class="auth-header">
      <h1 data-translate="reg_title">Create Account</h1>
      <p data-translate="reg_subtitle">Join our furniture store community</p>
    </div>

    <form action="{% url 'users:registration' %}" method="post">
      {% csrf_token %}

      <div class="form-grid">
        <div class="form-field">
          <label for="id_first_name" data-translate="reg_first_name">First Name*</label>
          <input 
            type="text" 
            name="first_name" 
            id="id_first_name"
            placeholder="John"
            value="{% if form.first_name.value %}{{ form.first_name.value }}{% endif %}"
            required />
          {% if form.first_name.errors %}
            <div class="field-error">
              {% for error in form.first_name.errors %}
                {{ error }}<br>
              {% endfor %}
            </div>
          {% endif %}
        </div>

        <div class="form-field">
          <label for="id_last_name" data-translate="reg_last_name">Last Name*</label>
          <input 
            type="text" 
            name="last_name" 
            id="id_last_name"
            placeholder="Doe"
            value="{% if form.last_name.value %}{{ form.last_name.value }}{% endif %}"
            required />
          {% if form.last_name.errors %}
            <div class="field-error">
              {% for error in form.last_name.errors %}
                {{ error }}<br>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      </div>

      <div class="form-grid full">
        <div class="form-field">
          <label for="id_username" data-translate="reg_username">Username*</label>
          <input 
            type="text" 
            name="username" 
            id="id_username"
            placeholder="Choose your username"
            value="{% if form.username.value %}{{ form.username.value }}{% endif %}"
            required />
          {% if form.username.errors %}
            <div class="field-error">
              {% for error in form.username.errors %}
                {{ error }}<br>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      </div>

      <div class="form-grid full">
        <div class="form-field">
          <label for="id_email" data-translate="reg_email">Email*</label>
          <input 
            type="email" 
            name="email" 
            id="id_email"
            placeholder="your@email.com"
            value="{% if form.email.value %}{{ form.email.value }}{% endif %}"
            required />
          {% if form.email.errors %}
            <div class="field-error">
              {% for error in form.email.errors %}
                {{ error }}<br>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      </div>

      <div class="form-grid">
        <div class="form-field">
          <label for="id_password1" data-translate="reg_password">Password*</label>
          <input 
            type="password" 
            name="password1" 
            id="id_password1"
            placeholder="Create password"
            value="{% if form.password1.value %}{{ form.password1.value }}{% endif %}"
            required />
          {% if form.password1.errors %}
            <div class="field-error">
              {% for error in form.password1.errors %}
                {{ error }}<br>
              {% endfor %}
            </div>
          {% endif %}
        </div>

        <div class="form-field">
          <label for="id_password2" data-translate="reg_password_confirm">Confirm Password*</label>
          <input 
            type="password" 
            name="password2" 
            id="id_password2"
            placeholder="Confirm password"
            value="{% if form.password2.value %}{{ form.password2.value }}{% endif %}"
            required />
          {% if form.password2.errors %}
            <div class="field-error">
              {% for error in form.password2.errors %}
                {{ error }}<br>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      </div>

      <div class="form-field captcha-field full">
        <label data-translate="captcha_label">Verify you're human</label>
        <div class="captcha-wrapper">
          {{ form.captcha }}
        </div>
        {% if form.captcha.errors %}
          <div class="field-error">
            {% for error in form.captcha.errors %}
              {{ error }}<br>
            {% endfor %}
          </div>
        {% endif %}
        {% if form.non_field_errors %}
          <div class="field-error">
            {% for error in form.non_field_errors %}
              {{ error }}<br>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <button type="submit" class="auth-button" data-translate="reg_button">Create Account</button>
    </form>

    <div class="auth-divider">
      <span data-translate="login_or">Or</span>
    </div>

    <div class="auth-links">
      <span data-translate="already_have_account">Already have an account?</span>
      <a href="{% url 'users:login' %}" data-translate="login_title">Sign In</a>
    </div>

    <div class="social-login">
      <p data-translate="login_or_connect">Or continue with</p>
      <div class="social-buttons">
        <a href="#" class="social-btn">
          <img src="{% static 'deps/icons/google.svg' %}" alt="Google" />
          <span>Google</span>
        </a>
        <a href="#" class="social-btn">
          <img src="{% static 'deps/icons/facebook.svg' %}" alt="Facebook" />
          <span>Facebook</span>
        </a>
        <a href="#" class="social-btn">
          <img src="{% static 'deps/icons/github.svg' %}" alt="GitHub" />
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
</main>
{% endblock %}
